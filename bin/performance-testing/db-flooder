#!/usr/bin/env ruby
# frozen_string_literal: true

require "factory_bot_rails"

VALID_MODELS = [:trip, :plan, :trip_membership, :user, :referral]

ENV["RAILS_ENV"] = "performance_test"
ENV["BUNDLE_GEMFILE"] ||= File.expand_path("../../Gemfile", __FILE__)

unless VALID_MODELS.include?(ARGV.first.to_sym)
  puts "Usage: db-flooder [#{VALID_MODELS.map(&:to_s).join(" | ")}]"
end

model = ARGV.first.to_sym

create(model)

.accordion.mb-2{ id: "accordion-ticket-links" }
  .accordion-item
    .accordion-header{ id: "heading-ticket-links" }
      %button.accordion-button.collapsed.roamio-header{
        type: "button",
        "data-bs-toggle": "collapse",
        "data-bs-target": "#collapse-ticket-links",
        "aria-expanded": "false",
        "aria-controls": "collapse-ticket-links",
        "aria-label": "Toggle ticket links input",
      }
        %i.bi.bi-link-45deg.me-3.h2.mb-0{ "aria-hidden": "true" }
        Add Ticket Links
    .accordion-collapse.collapse{
      id: "collapse-ticket-links",
      "aria-labelledby": "heading-ticket-links",
      "data-bs-parent": "#accordion-ticket-links",
    }
      .accordion-body
        #ticket-links-container.d-flex.flex-column.gap-2{ "data-controller": "ticket-links" }
          .row.row-gap-3
            .col-12.col-md-6
              = label_tag(:ticket_link_name, "Name", class: "plan-label")
              = text_field_tag(:ticket_link_name,
                               nil,
                               placeholder: "Name",
                               class: "form-control flex-grow-1",
                               "data-ticket-links-target": "name")
            .col-12.col-md-6
              = label_tag(:ticket_link_url, "URL", class: "plan-label")
              = text_field_tag(:ticket_link_url,
                               nil,
                               placeholder: "URL",
                               class: "form-control flex-grow-1",
                               "data-ticket-links-target": "url")
          .d-flex.mt-2
            = button_tag(type: "button",
                         class: "btn btn-primary d-flex align-items-center gap-1",
                         "data-action": "ticket-links#addLink",
                         "aria-label": "Add ticket link") do
              %i.bi.bi-plus-square &nbsp;
              Add Ticket


          .row
            .col
              %small.text-danger.mt-1{ "data-ticket-links-target" => "warning" }
            = hidden_field_tag(:ticket_links_data,
                               ticket_link_value(params[:ticket_links_data], plan),
                               data: { ticket_links_target: "dataField" })

          %table.table.d-none{ "data-ticket-links-target": "table" }
            %thead
              %tr
                %th Name
                %th URL
                %th Actions
            %tbody{ "data-ticket-links-target": "tbody" }
              // Table rows are inserted by Stimulus controller (packs/scripts/controllers/ticket-links-controller.js)

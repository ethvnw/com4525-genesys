= simple_form_for(resource,
                  builder: ValidatedFormBuilder,
                  as: resource_name,
                  url: registration_path(resource_name),
                  is_form_submitted: errors.present?,
                  html: { method: :put, "data-turbo": "true" }) do |f|
  .form-inputs
    = f.validated_input(:email,
                        get_formatted_errors(errors, :email),
                        required: true,
                        autofocus: true)

    = f.validated_input(:username,
                        get_formatted_errors(errors, :username),
                        required: true,
                        autofocus: true)

    - if devise_mapping.confirmable? && resource.pending_reconfirmation?
      %p Currently waiting confirmation for: #{resource.unconfirmed_email}

    = f.validated_input(:password,
                        get_formatted_errors(errors, :password),
                        label: "New Password",
                        hint: "Leave it blank if you don't want to change it",
                        required: false,
                        autocomplete: "new-password")

    = f.validated_input(:password_confirmation,
                        get_formatted_errors(errors, :password_confirmation),
                        label: "New Password Confirmation",
                        required: false,
                        autocomplete: "new-password")

    = f.validated_input(:current_password,
                        get_formatted_errors(errors, :current_password),
                        hint: "We need your current password to confirm your changes",
                        required: true,
                        input_html: { autocomplete: "current-password" })

  .form-actions.mt-4.d-flex.justify-content-end.gap-2
    = f.button(:submit, "Apply Changes", class: "btn-primary px-4")
